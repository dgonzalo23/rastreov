print("UDP")from socket import*import mysql.connectorfrom datetime import*from time import*ip = '192.168.1.5'port = 2145print("IP = ",ip)print("Recibiendo Datos...")print("Recibiendo En Puerto:", port)i = 0while True: i = i+1 ip = '192.168.1.5' print(" ") # se establece conexcion con direccion IP y puerto establecido ServerSock = socket(AF_INET, SOCK_DGRAM) ServerSock.bind((ip, port)) # Variable que guarda lo olfateado  DatRec, addr = ServerSock.recvfrom(1024) fix = 0.00001 fix2 = 0.0001 # Pasamos lo que nos llega a string contenido=str(DatRec) # Desmenuzamos el string para obtener la informacion  # que nos brinda el modem GPS signolatit = (contenido[18]) signolong = (contenido[26]) longt = (contenido[26:35]) latit = (contenido[18:26]) longt = float(longt) latit = float(latit) longt1 = (longt*fix) latit1 = (latit*fix) longt2 = ("%.5f" %longt1) latit2 = ("%.5f" %latit1) #ID = (contenido[42:60])   #Aqu√≠ se realiza el time_stamp---------------------------------------- semanas = contenido[8:12] semanas_a_segundos = float(semanas)*7*24*60*60 dias = contenido[12] dias_a_segundos = float(dias)*24*60*60 segundos = float(contenido[13:18]) Tgps=semanas_a_segundos + dias_a_segundos + segundos GPSfromUTC = (datetime(1980,1,6)-datetime(1970,1,1)).total_seconds() fecha = datetime.utcfromtimestamp(Tgps+GPSfromUTC).date() hora = datetime.utcfromtimestamp(Tgps+GPSfromUTC).time() #fechahora = datetime.utcfromtimestamp(Tgps+GPSfromUTC) #---------------------------------------------------------------------  #ID = (contenido[42:60]) print(contenido) dates = datetime.now() # Visualizamos la latitud y longitus print("Latitud =",signolatit,latit2," Longitud =",signolong,longt2) # Guardamos en documento .txt variables = open("Coordenadas.txt", "w") variables.write("Latitud: %s%s Longitud: %s%s           Fecha: %s/%s/%s           Hora: %s:%s:%s"% (str(signolatit),str(latit2),str(signolong), str(longt2),dates.day, dates.month, dates.year, dates.hour, dates.minute, dates.second)) variables.close() #fecha='1000' #hora='10' cnx = mysql.connector.connect(user='root',password='',host='127.0.0.1', database='rastreo') cursor = cnx.cursor() evento='1' agregar_ubicacion=("INSERT INTO tabla1 (lat, lng, fechahora,evento, hora) VALUES (%s, %s,%s, %s, %s)")  nueva_ubicacion=((latit2), (longt2), (fecha),(evento), (hora))                       cursor.execute(agregar_ubicacion, nueva_ubicacion)  cnx.commit() cursor.close() cnx.close()  